/*
 * Copyright 2022 Intel Corporation.
 * SPDX-License-Identifier: Apache-2.0
 */

#ifndef SANDSTONE_CONFIG_H
#define SANDSTONE_CONFIG_H

#mesondefine SANDSTONE_DEBUG

#mesondefine SANDSTONE_GA
#mesondefine SANDSTONE_GA_DEV

#ifndef SANDSTONE_NO_LOGGING
#  define SANDSTONE_NO_LOGGING          (SANDSTONE_GA && !SANDSTONE_GA_DEV)
#endif
#ifndef SANDSTONE_I18N_LOGGING
#  define SANDSTONE_I18N_LOGGING        (SANDSTONE_GA && !SANDSTONE_GA_DEV)
#endif

#ifndef SANDSTONE_RESTRICTED_CMDLINE
#  define SANDSTONE_RESTRICTED_CMDLINE  SANDSTONE_GA && !SANDSTONE_DEBUG
#endif

#ifndef SANDSTONE_CHILD_BACKTRACE
#  define SANDSTONE_CHILD_BACKTRACE     ((!SANDSTONE_GA || SANDSTONE_GA_DEV) && !SANDSTONE_NO_LOGGING)
#endif

#ifdef __cplusplus

namespace SandstoneConfig {
static constexpr bool Debug = SANDSTONE_DEBUG;

static constexpr bool GeneralAvailability = SANDSTONE_GA;

// keep alphabetical order, please
static constexpr bool ChildBacktrace = SANDSTONE_CHILD_BACKTRACE;
static constexpr bool I18nLogging = SANDSTONE_I18N_LOGGING;
static constexpr bool NoLogging = SANDSTONE_NO_LOGGING;
static constexpr bool RestrictedCommandLine = SANDSTONE_RESTRICTED_CMDLINE;
} // namespace SandstoneConfig

#endif /* __cplusplus */

#if !DEBUG
#  undef DEBUG
#endif

#endif /* SANDSTONE_CONFIG_H */
